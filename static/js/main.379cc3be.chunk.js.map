{"version":3,"sources":["components/Home.js","api/firebaseConfig.js","api/api.js","components/Alert.js","components/AlertView.js","components/MapComponents.js","components/Map.js","components/Toast.js","components/AlertForm.js","components/Profile.js","components/Login.js","components/Register.js","App.js","serviceWorker.js","index.js"],"names":["Home","className","style","marginTop","data-toggle","href","width","height","src","alt","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","store","firestore","email","password","a","Promise","resolve","reject","auth","signInWithEmailAndPassword","then","resp","getLoggedInUser","user","getUserDetails","uid","details","catch","error","console","log","message","logout","signOut","window","location","replace","reload","err","name","image_url","createUserWithEmailAndPassword","setTimeout","collection","doc","set","coins","rep","rank","onAuthStateChanged","get","exists","data","querySnapshot","alertsList","forEach","push","id","alertID","update","votes","FieldValue","increment","upvotes_list","arrayUnion","downvotes_list","arrayRemove","languageCode","Alert","title","post_time","contact","description","user_uid","upvoted","downvoted","useState","upvotedState","setUpvotedState","downvotedState","setDownvotedState","votesState","setVotesState","useEffect","latitude","longitude","onClick","removeUpvote","upvoteFromDownvoteAlert","upvoteAlert","class","removeDownvote","downvoteFromUpvoteAlert","downvoteAlert","AlertView","loading","role","length","map","includes","MapComponent","withScriptjs","withGoogleMap","isMarkerShown","defaultZoom","defaultCenter","lat","lng","position","MainMap","markerList","markerLoc","Map","initLocation","setInitLocation","alertWithLoc","find","alert","undefined","googleMapURL","loadingElement","containerElement","mapElement","Toast","Swal","mixin","toast","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","AlertForm","setLocation","handleLocation","navigator","geolocation","watchPosition","coords","GeoPoint","enableHighAccuracy","maximumAge","timeout","initialValues","validationSchema","Yup","required","onSubmit","values","setSubmitting","alertData","Date","toLocaleString","submitAlert","res","fire","icon","text","touched","errors","isSubmitting","type","placeholder","component","disabled","Profile","marginLeft","Login","login","Register","register","App","authStatusLoaded","setAuthStatusLoaded","setUser","setAlertList","setLoading","getAllAlerts","alertDocs","data-target","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","document","getElementById","URL","process","origin","fetch","headers","response","contentType","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.379cc3be.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <h1 className=\"title-text\">CRIME FIGHTERS</h1>\r\n      <h4>Take justice in your own hands.</h4>\r\n      \r\n      <div style={{marginTop: 20}}></div>\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#locate\">\r\n        View Crime Alerts Log\r\n      </a>\r\n      </button>\r\n\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#form\">\r\n        Report a Crime\r\n      </a>\r\n      </button>\r\n\r\n      <div style={{marginTop: 30}}></div>\r\n      <img width=\"340px\" height=\"200px\" src=\"https://pngimg.com/uploads/handcuffs/handcuffs_PNG33.png\" alt=\"logo\"/>\r\n      <div style={{marginTop: 20}}></div>\r\n      \r\n      <h6>Join our gamified crime alert community today.</h6>\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#register\">\r\n        Register Now\r\n      </a>\r\n      </button>\r\n\r\n    </>\r\n  )\r\n}","// Configuration for firebase authentication\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCUYFOJIWpUXGo51TvSiu0am3ov1bTenFA\",\r\n  authDomain: \"crime-alert-22ab6.firebaseapp.com\",\r\n  projectId: \"crime-alert-22ab6\",\r\n  storageBucket: \"crime-alert-22ab6.appspot.com\",\r\n  messagingSenderId: \"1016818394710\",\r\n  appId: \"1:1016818394710:web:98b1c9fb98af95aefb3df7\",\r\n  measurementId: \"G-62L51TS7SP\"\r\n};\r\n  \r\nexport default firebaseConfig;","// All of the Login component's API calls and helpers go here.\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from \"./firebaseConfig\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst store = firebase.firestore();\r\nfirebase.auth().languageCode = \"en\";\r\n\r\n\r\nexport async function login(email, password) {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(async (resp) => {    \r\n        getLoggedInUser()\r\n        .then(async (user) => {\r\n          let details = await getUserDetails(user.uid);\r\n          resolve({ ...user, ...details });\r\n        });    \r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Login failed: \", error.message);\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\nexport async function logout() {\r\n  firebaseApp\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      console.log(\"Successful log out\");\r\n      window.location.replace(\"#home\");\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Logout failed \", err);\r\n    });\r\n}\r\n\r\nexport async function register(email, password, name, image_url) {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp\r\n      .auth()\r\n      .createUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      )\r\n      .then((resp) => {\r\n        setTimeout(() => {\r\n          store\r\n            .collection(\"user\")\r\n            .doc(resp.user.uid)\r\n            .set({\r\n              email, name, image_url,\r\n              uid: resp.user.uid,\r\n              coins: 0,\r\n              rep: 0,\r\n              rank: 'Beginner'\r\n            })\r\n            .then(() => {\r\n              resolve(resp.user);\r\n            })\r\n            .catch((error) => {\r\n              reject(error);\r\n            });\r\n        }, 100);\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\n/**\r\n * Returns the current logged in user. If no logged in, return false.\r\n * @param None\r\n */\r\nexport async function getLoggedInUser() {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp.auth().onAuthStateChanged((user) => {\r\n      if (user) resolve(user);\r\n      else reject(false);\r\n    });\r\n  });\r\n}\r\n\r\n\r\nexport async function getUserDetails(uid) {\r\n    return new Promise((resolve, reject) => {\r\n        store\r\n        .collection(\"user\")\r\n        .doc(uid)\r\n        .get()\r\n        .then((details) => {\r\n            if (details.exists) resolve(details.data());\r\n            else reject(null);\r\n        })\r\n        .catch((err) => {\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nexport async function getAllAlerts() {\r\n  return new Promise((resolve, reject) => {\r\n    store\r\n    .collection(\"alert\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      let alertsList = [];\r\n      querySnapshot.forEach(doc => {\r\n        alertsList.push({id: doc.id, ...doc.data()});\r\n      });\r\n      resolve(alertsList);\r\n    })\r\n    .catch((err) => {\r\n        reject(err);\r\n    });\r\n  });\r\n}\r\n\r\n\r\n/**\r\n * Uploads and/or updates (merges) the details of user on the database.\r\n * @param data data with updated details\r\n * @param uid id of the user\r\n */\r\nexport async function updateUserData(data, uid) {\r\n    return store\r\n        .collection(\"user\")\r\n        .doc(uid)\r\n        .set({ ...data }, { merge: true });\r\n}\r\n\r\nexport async function upvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({upvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID)});\r\n  });\r\n}\r\n\r\n\r\nexport async function downvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({downvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID)});\r\n  });\r\n}\r\n\r\nexport async function removeUpvote(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({upvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)});\r\n  });\r\n}\r\n\r\nexport async function removeDownvote(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({downvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)});\r\n  });\r\n}\r\n\r\nexport async function downvoteFromUpvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-2)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({\r\n      upvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)\r\n    }).then(() => {\r\n      store\r\n      .collection(\"user\")\r\n      .doc(uid)\r\n      .update({\r\n        downvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID)\r\n      })\r\n    })\r\n    \r\n  });\r\n}\r\n\r\n\r\nexport async function upvoteFromDownvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(2)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({\r\n      downvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)\r\n    }).then(() => {\r\n      store\r\n      .collection(\"user\")\r\n      .doc(uid)\r\n      .update({\r\n        upvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID)\r\n      })\r\n    })\r\n    \r\n  });\r\n}\r\n\r\n\r\nexport async function submitAlert(uid, data) {\r\n  return new Promise((resolve, reject) => {\r\n      store\r\n      .collection(\"alert\")\r\n      .doc(uid)\r\n      .set({...data})\r\n      .then(() => {\r\n        resolve(\"Submitted.\");\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport default firebaseApp;","import React, { useEffect, useState } from 'react';\r\nimport { upvoteAlert, downvoteAlert, downvoteFromUpvoteAlert, upvoteFromDownvoteAlert, removeDownvote, removeUpvote } from '../api/api';\r\n\r\nexport default function Alert({id, title, post_time, votes, contact, description, user_uid, uid, location, upvoted, downvoted}) {\r\n  const [upvotedState, setUpvotedState] = useState(upvoted);\r\n  const [downvotedState, setDownvotedState] = useState(downvoted);\r\n  const [votesState, setVotesState] = useState(votes);\r\n  \r\n  useEffect(() => {\r\n    setUpvotedState(upvoted);\r\n    setDownvotedState(downvoted);\r\n    setVotesState(votes);\r\n  }, [upvoted, downvoted, votes]);\r\n\r\n  function handleUpvote() {\r\n    if (!upvotedState) {\r\n      if (downvotedState) {\r\n        upvoteFromDownvoteAlert(id, user_uid);\r\n        setVotesState(votesState+2);\r\n      }\r\n      else {\r\n        upvoteAlert(id, user_uid);\r\n        setVotesState(votesState+1);\r\n      }\r\n      setUpvotedState(true);\r\n      setDownvotedState(false);\r\n    }\r\n    else { //unvote\r\n      removeUpvote(id, user_uid);\r\n      setVotesState(votesState-1);\r\n      setUpvotedState(false);\r\n    }\r\n  }\r\n\r\n  function handleDownvote() {\r\n    if (!downvotedState) {\r\n      if (upvotedState) {\r\n        downvoteFromUpvoteAlert(id, user_uid);\r\n        setVotesState(votesState-2);\r\n      }\r\n      else {\r\n        downvoteAlert(id, user_uid);\r\n        setVotesState(votesState-1);\r\n      }\r\n      setDownvotedState(true);\r\n      setUpvotedState(false);\r\n    }\r\n    else { //unvote\r\n      removeDownvote(id, user_uid);\r\n      setVotesState(votesState+1);\r\n      setDownvotedState(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\" >\r\n      <div className=\"card-body\">\r\n        <h5 className=\"card-title\">{title}</h5>\r\n        <h6 className=\"card-subtitle\">{post_time}</h6>\r\n        <p className=\"card-text\">{description}</p>\r\n\r\n        <div className=\"card-minor\">\r\n          <div className=\"card-extra\">{contact}</div>\r\n          {\r\n            location != null &&\r\n            <div className=\"card-loc\">{location.latitude}, {location.longitude}</div>\r\n          }\r\n        </div>\r\n        \r\n        <button onClick={handleUpvote} class={upvotedState === true ? \"stat-item-marked\" : \"stat-item\"}> <i class=\"fa fa-thumbs-up icon\"></i></button> &nbsp;{votesState}&nbsp;&nbsp;\r\n        <button onClick={handleDownvote} class={downvotedState === true ? \"stat-item-marked\" : \"stat-item\"}> <i class=\"fa fa-thumbs-down icon\"></i></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, {useState, useEffect} from 'react';\r\nimport Alert from './Alert';\r\nimport { getAllAlerts } from '../api/api';\r\n\r\nexport default function AlertView({user, loading, alertsList}) {\r\n  return (\r\n    <>\r\n      <h3>Crime Logs</h3>\r\n      <p>Displaying all posted crime alerts. <i>Be cautious of any fake alerts and report them to us.</i></p>\r\n      {\r\n        user == null ? \"Please login to view our alerts.\"\r\n        : loading ?        \r\n        <div id=\"loading\">\r\n          <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : alertsList.length === 0 ? \r\n        <p>No alerts to display.</p> :\r\n        alertsList.map(({id, title, post_time, votes, location, contact, description, uid}) =>\r\n            <Alert \r\n            id={id}\r\n            title={title}\r\n            uid={uid}\r\n            user_uid={user.uid}\r\n            post_time={post_time}\r\n            votes={votes} \r\n            location={location}\r\n            contact={contact}\r\n            description={description}\r\n            upvoted={user.upvotes_list.includes(id)}\r\n            downvoted={user.downvotes_list.includes(id)}\r\n            />\r\n        )\r\n      }      \r\n    </>\r\n  )\r\n}","import React from 'react';\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\n\r\nexport const MapComponent = withScriptjs(withGoogleMap(({isMarkerShown, location}) => {\r\n    if (!location) {\r\n      return <></>;\r\n    }   \r\n\r\n    return <GoogleMap\r\n      defaultZoom={15}\r\n      defaultCenter={{ lat: location.latitude, lng: location.longitude }}\r\n    >\r\n      {isMarkerShown && <Marker position={{ lat: location.latitude, lng: location.longitude }} />}\r\n    </GoogleMap>;\r\n  } \r\n))\r\n\r\nexport const MainMap = withScriptjs(withGoogleMap(({markerList, location}) => {\r\n  \r\n  return <GoogleMap\r\n      defaultZoom={15}\r\n      defaultCenter={{ lat: location.latitude, lng: location.longitude }}\r\n    >\r\n    { \r\n      markerList.map(markerLoc => {\r\n        if (markerLoc !== null) {\r\n          return <Marker position={{ lat: markerLoc.latitude, lng: markerLoc.longitude }}/>\r\n        }\r\n      })  \r\n    }\r\n  </GoogleMap>;\r\n} \r\n))","import React, {useState, useEffect} from 'react';\r\nimport {MainMap} from './MapComponents';\r\n\r\nexport default function Map({user, alertsList, loading}) {\r\n  const [initLocation, setInitLocation] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const alertWithLoc = alertsList.find(alert => alert.location !== null);\r\n    if (alertWithLoc === undefined) {\r\n      setInitLocation(null);\r\n    }\r\n    else {\r\n      setInitLocation(alertWithLoc.location);\r\n    }\r\n    \r\n  }, [alertsList]);\r\n\r\n  return (\r\n    <>\r\n      <h3>Locate</h3>\r\n      <p>The <b>markers</b> represent all crime alerts submitted by other Crime Fighters. Click on each to view more.</p>\r\n      {\r\n        (!loading && alertsList.length !== 0) &&\r\n        <MainMap \r\n        googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDljegl-khc3VGfDMlG_2BpPF21jyFy5Ss&libraries=places&v=weekly\"\r\n        location={initLocation}\r\n        markerList={alertsList.map(alert => alert.location)}\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        containerElement={<div style={{ height: `330px` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n        />\r\n      }\r\n      <br/>\r\n      <br/>\r\n    </>\r\n  )\r\n}","import Swal from \"sweetalert2\";\r\n\r\nconst Toast = Swal.mixin({\r\n    toast: true,\r\n    position: 'top-end',\r\n    showConfirmButton: false,\r\n    timer: 1500,\r\n    timerProgressBar: true,\r\n    onOpen: (toast) => {\r\n        toast.addEventListener('mouseenter', Swal.stopTimer)\r\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n}\r\n});\r\n\r\nexport default Toast;","import React, {useState, useEffect} from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { MapComponent } from './MapComponents';\r\nimport { submitAlert } from '../api/api';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\nimport firebase from \"firebase/app\";\r\n\r\n\r\nexport default function AlertForm({user}) {\r\n  const [location, setLocation] = useState(null);\r\n\r\n  function handleLocation() {\r\n    if('geolocation' in navigator) {\r\n      function success(position) {\r\n        let lat = position.coords.latitude;\r\n        let lng = position.coords.longitude;\r\n\r\n        setLocation(new firebase.firestore.GeoPoint(lat, lng));\r\n      }\r\n\r\n      function error() {\r\n        alert('Sorry, no position available.');\r\n      }\r\n      navigator.geolocation.watchPosition(success, error, {enableHighAccuracy: false,maximumAge: 100, timeout: 5000 });\r\n    } \r\n    else {\r\n      alert(\"getCurrentPosition Error\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n      <h3>Report a Crime</h3>\r\n      <p>When a criminal activity is suspected, members are encouraged to report to authorities, and not to intervene. <br/><i>Any false reports will be downvoted and bad reputation can lead to an account ban so please refrain from such activity.</i></p>\r\n      <div className=\"formik\">\r\n        <Formik\r\n          initialValues={{ title: \"\", description: \"\", contact: \"\"}}\r\n          validationSchema={Yup.object({\r\n            title: Yup.string().required(\"Please give an appropriate title and category to the alert.\"),\r\n            description: Yup.string().required(\"A complete description about the crime details and the suspect you witnessed is required.\"),\r\n            contact: Yup.string().required(\"Contact details are required for community verification and for the legal enforcement authorities.\"),\r\n          })}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            setTimeout(() => {\r\n              const alertData = {\r\n                title: values.title, \r\n                description: values.description, \r\n                contact: values.contact, \r\n                post_time: new Date().toLocaleString(),\r\n                uid: user.uid,\r\n                votes: 0,\r\n                location\r\n                };\r\n\r\n              console.log(alertData);\r\n              submitAlert(user.uid, alertData)\r\n                .then((res) => {\r\n                  setSubmitting(false);\r\n                  Toast.fire({\r\n                    icon: 'success',\r\n                    title: 'Submitted the crime alert successfully.'\r\n                  })\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 1500);\r\n                })\r\n                .catch((error) => {\r\n                  setSubmitting(false);\r\n                  Swal.fire({\r\n                    title: \"Invalid details. Please try again.\",\r\n                    text: error.message,\r\n                    icon: \"error\",\r\n                    timer: 2500\r\n                  })\r\n                });\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form className=\"spaced-form\">\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Title\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  placeholder=\"Enter title\"\r\n                  className={`form-control ${\r\n                    touched.title && errors.title ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"title\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Description\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  placeholder=\"Enter description\"\r\n                  className={`form-control ${\r\n                    touched.description && errors.description ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"description\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Contact\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"contact\"\r\n                  placeholder=\"Enter contact details\"\r\n                  className={`form-control ${\r\n                    touched.contact && errors.contact ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"contact\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              \r\n              <div className=\"form-group\">\r\n                <button id=\"location-btn\" onClick={handleLocation} className=\"mdc-button mdc-button--raised general\">\r\n                  <small> Add Location </small>\r\n                </button>\r\n                {\r\n                  location !== undefined && location !== null &&\r\n                  <MapComponent \r\n                  isMarkerShown\r\n                  googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDljegl-khc3VGfDMlG_2BpPF21jyFy5Ss&libraries=places&v=weekly\"\r\n                  location={location}\r\n                  loadingElement={<div style={{ height: `100%` }} />}\r\n                  containerElement={<div style={{ height: `400px` }} />}\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                  />\r\n                }\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"mdc-button mdc-button--raised general\" disabled={isSubmitting}>\r\n                {isSubmitting ? \r\n                  <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                  : \"Report Crime\"}\r\n              </button>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n      </div>\r\n    </>\r\n  )\r\n}","import React from \"react\";\r\nimport { logout } from \"../api/api\";\r\n\r\nexport default function Profile({name, image_url, email, rank, rep, coins}) {\r\n    return (\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <img id=\"profile-img\" src={image_url} alt={name}/><br/>\r\n        <h3>{name}</h3>\r\n        <div>{email}</div>\r\n        <div><b>Rank:</b> {rank}</div>\r\n        <div><b>Reputation:</b> {rep}</div>\r\n        <div><b>Coins:</b> {coins}</div>\r\n        <br/>\r\n        <button style={{marginLeft: 15}} onClick={logout} className=\"mdc-button mdc-button--raised general\">Logout</button>\r\n      </div>\r\n    );\r\n}","import React from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { login } from \"../api/api\";\r\nimport Profile from './Profile';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\n\r\nexport default function Login({user}) {\r\n    \r\n    if (user != null) {\r\n      return (\r\n        <Profile \r\n        name={user.name}\r\n        rank={user.rank}\r\n        rep={user.rep}\r\n        coins={user.coins}\r\n        email={user.email}\r\n        image_url={user.image_url}/>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <h3>Welcome Back!</h3>\r\n          <div className=\"formik\">\r\n            <Formik\r\n              initialValues={{ email: \"\", password: \"\" }}\r\n              validationSchema={Yup.object({\r\n                email: Yup.string()\r\n                  .email(\"Invalid email address\")\r\n                  .required(\"An email address is required\"),\r\n                password: Yup.string().required(\"Password is required\"),\r\n              })}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                  login(values.email, values.password)\r\n                    .then((user) => {\r\n                      setSubmitting(false);\r\n                      Toast.fire({\r\n                        icon: 'success',\r\n                        title: 'Signed in successfully.'\r\n                      })\r\n                      // Redirect using html for page refresh\r\n                      setTimeout(() => {\r\n                        window.location.reload();\r\n                      }, 1500);\r\n                    })\r\n                    .catch((error) => {\r\n                      setSubmitting(false);\r\n                      Swal.fire({\r\n                        title: \"Invalid login details. Please try again.\",\r\n                        text: error.message,\r\n                        icon: \"error\",\r\n                        timer: 2500\r\n                      })\r\n                    });\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting }) => (\r\n                <Form>\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Email\r\n                    </small>\r\n                    <Field\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Enter email\"\r\n                      className={`form-control ${\r\n                        touched.email && errors.email ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"email\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Password\r\n                    </small>\r\n                    <Field\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      placeholder=\"Enter password\"\r\n                      className={`form-control ${\r\n                        touched.password && errors.password ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"password\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  <br/>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"mdc-button mdc-button--raised general\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    {isSubmitting ? \r\n                      <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                      : \"Login\"}\r\n                  </button>\r\n\r\n                 \r\n                </Form>\r\n              )}\r\n            </Formik>\r\n\r\n          </div>\r\n          <br/>\r\n          <h6>New user? Join our gamified crime alert community today.</h6>\r\n            <button className=\"mdc-button mdc-button--raised general\">\r\n            <a data-toggle=\"tab\" href=\"#register\">Register</a>\r\n            </button>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { register } from \"../api/api\";\r\nimport Profile from './Profile';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\n\r\nexport default function Register({user}) {\r\n    \r\n    if (user != null) {\r\n      return (\r\n        <Profile \r\n        name={user.name}\r\n        rank={user.rank}\r\n        rep={user.rep}\r\n        coins={user.coins}\r\n        email={user.email}\r\n        image_url={user.image_url}/>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <h3>Join us today!</h3>\r\n          <div className=\"formik\">\r\n            <Formik\r\n              initialValues={{ email: \"\", password: \"\", name: \"\", image_url: \"\" }}\r\n              validationSchema={Yup.object({\r\n                email: Yup.string().email(\"Invalid email address\").required(\"An email address is required.\"),\r\n                password: Yup.string().required(\"A password is required.\"),\r\n                name: Yup.string().required(\"Please enter your full name.\"),\r\n                image_url: Yup.string().required(\"A valid image URL is required for your display picture.\")\r\n              })}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                  register(values.email, values.password, values.name, values.image_url)\r\n                    .then((user) => {\r\n                      setSubmitting(false);\r\n                      Toast.fire({\r\n                        icon: 'success',\r\n                        title: 'Registered successfully. Please proceed to login.'\r\n                      })\r\n                      // Redirect using html for page refresh\r\n                      setTimeout(() => {\r\n                        window.location.replace(\"#login\");\r\n                        window.location.reload();\r\n                      }, 1500);\r\n                    })\r\n                    .catch((error) => {\r\n                      setSubmitting(false);\r\n                      Swal.fire({\r\n                        title: \"Invalid details. Please try again.\",\r\n                        text: error.message,\r\n                        icon: \"error\",\r\n                        timer: 2500\r\n                      })\r\n                    });\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting }) => (\r\n                <Form className=\"spaced-form\">\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Name\r\n                    </small>\r\n                    <Field\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      placeholder=\"Enter name\"\r\n                      className={`form-control ${\r\n                        touched.name && errors.name ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"name\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Email\r\n                    </small>\r\n                    <Field\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Enter email\"\r\n                      className={`form-control ${\r\n                        touched.email && errors.email ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"email\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Password\r\n                    </small>\r\n                    <Field\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      placeholder=\"Enter password\"\r\n                      className={`form-control ${\r\n                        touched.password && errors.password ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"password\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  \r\n\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Display Image URL\r\n                    </small>\r\n                    <Field\r\n                      type=\"text\"\r\n                      name=\"image_url\"\r\n                      placeholder=\"Enter an image URL for your display picture hosted online\"\r\n                      className={`form-control ${\r\n                        touched.image_url && errors.image_url ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"image_url\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"mdc-button mdc-button--raised general\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    {isSubmitting ? \r\n                      <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                      : \"Register\"}\r\n                  </button>\r\n\r\n                 \r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </div>\r\n          <br/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport Home from './components/Home';\r\nimport AlertView from './components/AlertView';\r\nimport Map from './components/Map';\r\nimport AlertForm from './components/AlertForm';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport { getLoggedInUser, getUserDetails, getAllAlerts } from \"./api/api\";\r\n\r\n\r\nfunction App() {\r\n  const [authStatusLoaded, setAuthStatusLoaded] = useState(false); // used to wait if any user is logged in\r\n  const [user, setUser] = useState(null);\r\n  const [alertsList, setAlertList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n  // Setting user state if user logged in.\r\n  useEffect(() => {\r\n    getLoggedInUser()\r\n      .then(async (user) => {\r\n        let details = await getUserDetails(user.uid);\r\n        setUser({ ...user, ...details });\r\n        setAuthStatusLoaded(true);\r\n      })\r\n      .catch(() => {\r\n        setUser(null);\r\n        setAuthStatusLoaded(true);\r\n      });\r\n    \r\n    getAllAlerts()\r\n    .then(async (alertDocs) => {\r\n        setAlertList(alertDocs);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setAlertList([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // if authentication has not been loaded yet\r\n  if (!authStatusLoaded) {\r\n    return (\r\n      <div id=\"loading-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark fixed-top\">\r\n        <a className=\"navbar-brand title-text\" href=\"#home\">Crime Fighters</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-target=\"#collapsibleNavbar\" data-toggle=\"collapse\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n          <ul className=\"nav nav-tabs navbar-nav\">\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link active\" data-toggle=\"tab\" href=\"#home\">Home</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" data-toggle=\"tab\" href=\"#login\">{user == null ? \"Login\" : \"Profile\"}</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" data-toggle=\"tab\" href=\"#form\">Report a Crime</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#view\">View Crime Log</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#locate\">Locate</a>\r\n            </li>    \r\n          </ul>\r\n      </div>  \r\n    </nav>\r\n\r\n    <div className=\"tab-content container\" id=\"main\">\r\n\r\n      <div id=\"home\" className=\"tab-pane fade in active show\">\r\n        <Home user={user}/>\r\n      </div>\r\n\r\n      <div id=\"login\" className=\"tab-pane fade\">\r\n        <Login user={user}/>\r\n      </div>\r\n\r\n      <div id=\"register\" className=\"tab-pane fade\">\r\n        <Register user={user}/>\r\n      </div>\r\n\r\n      <div id=\"view\" className=\"tab-pane fade\">\r\n        <AlertView user={user} alertsList={alertsList} loading={loading}/>\r\n      </div>\r\n\r\n      <div id=\"locate\" className=\"tab-pane fade\">\r\n        <Map user={user} alertsList={alertsList} loading={loading}/>\r\n      </div>\r\n\r\n      <div id=\"form\" className=\"tab-pane fade\">\r\n        <AlertForm user={user}/>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\nserviceWorker.register();\r\n"],"sourceRoot":""}