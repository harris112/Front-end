{"version":3,"sources":["components/Home.js","api/firebaseConfig.js","api/api.js","components/Alert.js","components/AlertView.js","components/MapComponents.js","components/Map.js","components/Toast.js","components/AlertForm.js","components/Profile.js","components/Login.js","components/Register.js","components/Shop.js","App.js","serviceWorker.js","index.js"],"names":["Home","className","style","marginTop","data-toggle","href","width","height","src","alt","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","store","firestore","auth","languageCode","rankList","rankColor","email","password","a","Promise","resolve","reject","signInWithEmailAndPassword","then","resp","getLoggedInUser","user","getUserDetails","uid","details","catch","error","console","log","message","logout","signOut","window","location","replace","reload","err","name","image_url","createUserWithEmailAndPassword","setTimeout","collection","doc","set","coins","rep","onAuthStateChanged","get","exists","data","querySnapshot","alertsList","forEach","push","id","all","map","alert","rankIndex","Math","min","floor","length","uname","ucolor","shopItems","costCoins","update","FieldValue","increment","alertID","votes","upvotes_list","arrayUnion","downvotes_list","arrayRemove","Alert","title","post_time","contact","description","user_uid","upvoted","downvoted","useState","upvotedState","setUpvotedState","downvotedState","setDownvotedState","votesState","setVotesState","useEffect","color","latitude","longitude","onClick","removeUpvote","upvoteFromDownvoteAlert","upvoteAlert","class","removeDownvote","downvoteFromUpvoteAlert","downvoteAlert","AlertView","loading","role","includes","MapComponent","withScriptjs","withGoogleMap","isMarkerShown","defaultZoom","defaultCenter","lat","lng","position","MainMap","markerList","markerLoc","Map","initLocation","setInitLocation","alertWithLoc","find","undefined","googleMapURL","loadingElement","containerElement","mapElement","Toast","Swal","mixin","toast","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","AlertForm","setLocation","handleLocation","navigator","geolocation","watchPosition","coords","GeoPoint","enableHighAccuracy","maximumAge","timeout","initialValues","validationSchema","Yup","required","onSubmit","values","setSubmitting","alertData","Date","toLocaleString","submitAlert","res","fire","icon","text","touched","errors","isSubmitting","type","placeholder","component","disabled","Profile","rank","borderColor","borderStyle","borderWidth","marginLeft","Login","login","Register","register","ShopCard","ucoins","due_time","toDate","toString","purchaseItem","Shop","setShopItems","setLoading","getShopItems","shopDocs","App","authStatusLoaded","setAuthStatusLoaded","setUser","setAlertList","getAllAlerts","alertDocs","data-target","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","document","getElementById","URL","process","origin","fetch","headers","response","contentType","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c1174d6b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <h1 className=\"title-text\">CRIME FIGHTERS</h1>\r\n      <h4>Take justice in your own hands.</h4>\r\n      \r\n      <div style={{marginTop: 20}}></div>\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#locate\">\r\n        View Crime Alerts Log\r\n      </a>\r\n      </button>\r\n\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#form\">\r\n        Report a Crime\r\n      </a>\r\n      </button>\r\n\r\n      <div style={{marginTop: 30}}></div>\r\n      <img width=\"340px\" height=\"200px\" src=\"https://pngimg.com/uploads/handcuffs/handcuffs_PNG33.png\" alt=\"logo\"/>\r\n      <div style={{marginTop: 20}}></div>\r\n      \r\n      <h6>Join our gamified crime alert community today.</h6>\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#register\">\r\n        Register Now\r\n      </a>\r\n      </button>\r\n\r\n    </>\r\n  )\r\n}","// Configuration for firebase authentication\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCUYFOJIWpUXGo51TvSiu0am3ov1bTenFA\",\r\n  authDomain: \"crime-alert-22ab6.firebaseapp.com\",\r\n  projectId: \"crime-alert-22ab6\",\r\n  storageBucket: \"crime-alert-22ab6.appspot.com\",\r\n  messagingSenderId: \"1016818394710\",\r\n  appId: \"1:1016818394710:web:98b1c9fb98af95aefb3df7\",\r\n  measurementId: \"G-62L51TS7SP\"\r\n};\r\n  \r\nexport default firebaseConfig;","// All of the Login component's API calls and helpers go here.\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from \"./firebaseConfig\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst store = firebase.firestore();\r\nfirebase.auth().languageCode = \"en\";\r\n\r\n\r\nexport const rankList = ['Beginner', 'Watcher', 'Patrol Guard', 'Crime Fighter', 'Bane of Justice', 'Batman'];\r\nexport const rankColor = ['white', 'darkseagreen', 'lightblue', 'mediumpurple', 'lightcoral', 'gold'];\r\n\r\nexport async function login(email, password) {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(async (resp) => {    \r\n        getLoggedInUser()\r\n        .then(async (user) => {\r\n          let details = await getUserDetails(user.uid);\r\n          resolve({ ...user, ...details });\r\n        });    \r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Login failed: \", error.message);\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\nexport async function logout() {\r\n  firebaseApp\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      console.log(\"Successful log out\");\r\n      window.location.replace(\"#home\");\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Logout failed \", err);\r\n    });\r\n}\r\n\r\nexport async function register(email, password, name, image_url) {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp\r\n      .auth()\r\n      .createUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      )\r\n      .then((resp) => {\r\n        setTimeout(() => {\r\n          store\r\n            .collection(\"user\")\r\n            .doc(resp.user.uid)\r\n            .set({\r\n              email, name, image_url,\r\n              uid: resp.user.uid,\r\n              coins: 100,\r\n              rep: 0,\r\n            })\r\n            .then(() => {\r\n              resolve(resp.user);\r\n            })\r\n            .catch((error) => {\r\n              reject(error);\r\n            });\r\n        }, 100);\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport async function getLoggedInUser() {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp.auth().onAuthStateChanged((user) => {\r\n      if (user) resolve(user);\r\n      else reject(false);\r\n    });\r\n  });\r\n}\r\n\r\n\r\nexport async function getUserDetails(uid) {\r\n    return new Promise((resolve, reject) => {\r\n        store\r\n        .collection(\"user\")\r\n        .doc(uid)\r\n        .get()\r\n        .then((details) => {\r\n            if (details.exists) resolve(details.data());\r\n            else reject(null);\r\n        })\r\n        .catch((err) => {\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\n\r\nexport async function getAllAlerts() {\r\n  const querySnapshot = await store.collection(\"alert\").get();\r\n  \r\n  let alertsList = [];\r\n  querySnapshot.forEach(doc => {\r\n    alertsList.push({id: doc.id, ... doc.data()});\r\n  });\r\n\r\n  return Promise.all(alertsList.map(async alert => {\r\n    const user = await getUserDetails(alert.uid);\r\n    const rankIndex = Math.min(Math.floor(user.rep / 200), rankList.length-1);\r\n    console.log(rankIndex);\r\n    alert.uname = user.name;\r\n    alert.ucolor = rankColor[rankIndex];\r\n    return alert;\r\n  }));\r\n}\r\n\r\n\r\nexport async function getShopItems() {\r\n  return new Promise((resolve, reject) => {\r\n    store\r\n    .collection(\"shop\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      let shopItems = [];\r\n      querySnapshot.forEach(doc => {\r\n        shopItems.push({id: doc.id, ...doc.data()});\r\n      });\r\n      resolve(shopItems);\r\n    })\r\n    .catch((err) => {\r\n        reject(err);\r\n    });\r\n  });\r\n}\r\n\r\nexport async function purchaseItem(costCoins, uid) {\r\n  return store\r\n  .collection(\"user\")\r\n  .doc(uid)\r\n  .update({ coins: firebase.firestore.FieldValue.increment(-costCoins)});\r\n}\r\n\r\n\r\n\r\nexport async function upvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({upvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(10),\r\n      rep: firebase.firestore.FieldValue.increment(100)});\r\n  });\r\n}\r\n\r\n\r\nexport async function downvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({downvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(-10),\r\n      rep: firebase.firestore.FieldValue.increment(-100)});\r\n  });\r\n}\r\n\r\nexport async function removeUpvote(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({upvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(-10),\r\n      rep: firebase.firestore.FieldValue.increment(-100)});\r\n  });\r\n}\r\n\r\nexport async function removeDownvote(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({downvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(10),\r\n      rep: firebase.firestore.FieldValue.increment(100)});\r\n  });\r\n}\r\n\r\nexport async function downvoteFromUpvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-2)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({\r\n      upvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)\r\n    }).then(() => {\r\n      store\r\n      .collection(\"user\")\r\n      .doc(uid)\r\n      .update({\r\n        downvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n        coins: firebase.firestore.FieldValue.increment(-20),\r\n        rep: firebase.firestore.FieldValue.increment(-200)\r\n      })\r\n    })\r\n    \r\n  });\r\n}\r\n\r\n\r\nexport async function upvoteFromDownvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(2)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({\r\n      downvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)\r\n    }).then(() => {\r\n      store\r\n      .collection(\"user\")\r\n      .doc(uid)\r\n      .update({\r\n        upvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n        coins: firebase.firestore.FieldValue.increment(20),\r\n        rep: firebase.firestore.FieldValue.increment(200)\r\n      })\r\n    })\r\n    \r\n  });\r\n}\r\n\r\n\r\nexport async function submitAlert(uid, data) {\r\n  return new Promise((resolve, reject) => {\r\n      store\r\n      .collection(\"alert\")\r\n      .doc(uid)\r\n      .set({...data})\r\n      .then(() => {\r\n        resolve(\"Submitted.\");\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport default firebaseApp;","import React, { useEffect, useState } from 'react';\r\nimport { upvoteAlert, downvoteAlert, downvoteFromUpvoteAlert, upvoteFromDownvoteAlert, removeDownvote, removeUpvote } from '../api/api';\r\n\r\nexport default function Alert({id, title, post_time, votes, contact, description, user_uid, uid, uname, ucolor, location, upvoted, downvoted}) {\r\n  const [upvotedState, setUpvotedState] = useState(upvoted);\r\n  const [downvotedState, setDownvotedState] = useState(downvoted);\r\n  const [votesState, setVotesState] = useState(votes);\r\n  \r\n  useEffect(() => {\r\n    setUpvotedState(upvoted);\r\n    setDownvotedState(downvoted);\r\n    setVotesState(votes);\r\n  }, [upvoted, downvoted, votes]);\r\n\r\n  function handleUpvote() {\r\n    if (!upvotedState) {\r\n      if (downvotedState) {\r\n        upvoteFromDownvoteAlert(id, user_uid);\r\n        setVotesState(votesState+2);\r\n      }\r\n      else {\r\n        upvoteAlert(id, user_uid);\r\n        setVotesState(votesState+1);\r\n      }\r\n      setUpvotedState(true);\r\n      setDownvotedState(false);\r\n    }\r\n    else { //unvote\r\n      removeUpvote(id, user_uid);\r\n      setVotesState(votesState-1);\r\n      setUpvotedState(false);\r\n    }\r\n  }\r\n\r\n  function handleDownvote() {\r\n    if (!downvotedState) {\r\n      if (upvotedState) {\r\n        downvoteFromUpvoteAlert(id, user_uid);\r\n        setVotesState(votesState-2);\r\n      }\r\n      else {\r\n        downvoteAlert(id, user_uid);\r\n        setVotesState(votesState-1);\r\n      }\r\n      setDownvotedState(true);\r\n      setUpvotedState(false);\r\n    }\r\n    else { //unvote\r\n      removeDownvote(id, user_uid);\r\n      setVotesState(votesState+1);\r\n      setDownvotedState(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card\" >\r\n      <div className=\"card-body\">\r\n        <h6 className=\"card-subtitle2\" style={{color: ucolor}}>{uname}</h6>\r\n        <h5 className=\"card-title\">{title}</h5>\r\n        <h6 className=\"card-subtitle\">{post_time}</h6>\r\n        <p className=\"card-text\">{description}</p>\r\n\r\n        <div className=\"card-minor\">\r\n          <div className=\"card-extra\">{contact}</div>\r\n          {\r\n            location != null &&\r\n            <div className=\"card-loc\">{location.latitude}, {location.longitude}</div>\r\n          }\r\n        </div>\r\n        \r\n        <button onClick={handleUpvote} class={upvotedState === true ? \"stat-item-marked\" : \"stat-item\"}> <i class=\"fa fa-thumbs-up icon\"></i></button> &nbsp;{votesState}&nbsp;&nbsp;\r\n        <button onClick={handleDownvote} class={downvotedState === true ? \"stat-item-marked\" : \"stat-item\"}> <i class=\"fa fa-thumbs-down icon\"></i></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, {useState, useEffect} from 'react';\r\nimport Alert from './Alert';\r\nimport { getAllAlerts } from '../api/api';\r\n\r\nexport default function AlertView({user, loading, alertsList}) {\r\n\r\n  return (\r\n    <>\r\n      <h3>Crime Logs</h3>\r\n      <p>Displaying all posted crime alerts. <i>Be cautious of any fake alerts and report them to us.</i></p>\r\n      {\r\n        user == null ? \"Please login to view our alerts.\"\r\n        : loading ?        \r\n        <div id=\"loading\">\r\n          <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : alertsList.length === 0 ? \r\n        <p>No alerts to display.</p> :\r\n        alertsList.map(({id, title, post_time, votes, location, contact, description, uid, uname, ucolor}) =>\r\n            <Alert \r\n            id={id}\r\n            title={title}\r\n            uid={uid}\r\n            uname={uname}\r\n            ucolor={ucolor}\r\n            user_uid={user.uid}\r\n            post_time={post_time}\r\n            votes={votes} \r\n            location={location}\r\n            contact={contact}\r\n            description={description}\r\n            upvoted={user.upvotes_list.includes(id)}\r\n            downvoted={user.downvotes_list.includes(id)}\r\n            />\r\n        )\r\n      }      \r\n    </>\r\n  )\r\n}","import React from 'react';\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\n\r\nexport const MapComponent = withScriptjs(withGoogleMap(({isMarkerShown, location}) => {\r\n    if (!location) {\r\n      return <></>;\r\n    }   \r\n\r\n    return <GoogleMap\r\n      defaultZoom={15}\r\n      defaultCenter={{ lat: location.latitude, lng: location.longitude }}\r\n    >\r\n      {isMarkerShown && <Marker position={{ lat: location.latitude, lng: location.longitude }} />}\r\n    </GoogleMap>;\r\n  } \r\n))\r\n\r\nexport const MainMap = withScriptjs(withGoogleMap(({markerList, location}) => {\r\n  \r\n  return <GoogleMap\r\n      defaultZoom={15}\r\n      defaultCenter={{ lat: location.latitude, lng: location.longitude }}\r\n    >\r\n    { \r\n      markerList.map(markerLoc => {\r\n        if (markerLoc !== null) {\r\n          return <Marker position={{ lat: markerLoc.latitude, lng: markerLoc.longitude }}/>\r\n        }\r\n      })  \r\n    }\r\n  </GoogleMap>;\r\n} \r\n))","import React, {useState, useEffect} from 'react';\r\nimport {MainMap} from './MapComponents';\r\n\r\nexport default function Map({user, alertsList, loading}) {\r\n  const [initLocation, setInitLocation] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const alertWithLoc = alertsList.find(alert => alert.location !== null);\r\n    if (alertWithLoc === undefined) {\r\n      setInitLocation(null);\r\n    }\r\n    else {\r\n      setInitLocation(alertWithLoc.location);\r\n    }\r\n    \r\n  }, [alertsList]);\r\n\r\n  return (\r\n    <>\r\n      <h3>Locate</h3>\r\n      <p>The <b>markers</b> represent all crime alerts submitted by other Crime Fighters.</p>\r\n      {\r\n        (!loading && alertsList.length !== 0) &&\r\n        <MainMap \r\n        googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDljegl-khc3VGfDMlG_2BpPF21jyFy5Ss&libraries=places&v=weekly\"\r\n        location={initLocation}\r\n        markerList={alertsList.map(alert => alert.location)}\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        containerElement={<div style={{ height: `330px` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n        />\r\n      }\r\n      <br/>\r\n      <br/>\r\n    </>\r\n  )\r\n}","import Swal from \"sweetalert2\";\r\n\r\nconst Toast = Swal.mixin({\r\n    toast: true,\r\n    position: 'top-end',\r\n    showConfirmButton: false,\r\n    timer: 1500,\r\n    timerProgressBar: true,\r\n    onOpen: (toast) => {\r\n        toast.addEventListener('mouseenter', Swal.stopTimer)\r\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n}\r\n});\r\n\r\nexport default Toast;","import React, {useState, useEffect} from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { MapComponent } from './MapComponents';\r\nimport { submitAlert } from '../api/api';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\nimport firebase from \"firebase/app\";\r\n\r\n\r\nexport default function AlertForm({user}) {\r\n  const [location, setLocation] = useState(null);\r\n\r\n  function handleLocation() {\r\n    if('geolocation' in navigator) {\r\n      function success(position) {\r\n        let lat = position.coords.latitude;\r\n        let lng = position.coords.longitude;\r\n\r\n        setLocation(new firebase.firestore.GeoPoint(lat, lng));\r\n      }\r\n\r\n      function error() {\r\n        alert('Sorry, no position available.');\r\n      }\r\n      navigator.geolocation.watchPosition(success, error, {enableHighAccuracy: false,maximumAge: 100, timeout: 5000 });\r\n    } \r\n    else {\r\n      alert(\"getCurrentPosition Error\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n      <h3>Report a Crime</h3>\r\n      <p>When a criminal activity is suspected, members are encouraged to report to authorities, and not to intervene. <br/><i>Any false reports will be downvoted and bad reputation can lead to an account ban so please refrain from such activity.</i></p>\r\n      <div className=\"formik\">\r\n        <Formik\r\n          initialValues={{ title: \"\", description: \"\", contact: \"\"}}\r\n          validationSchema={Yup.object({\r\n            title: Yup.string().required(\"Please give an appropriate title and category to the alert.\"),\r\n            description: Yup.string().required(\"A complete description about the crime details and the suspect you witnessed is required.\"),\r\n            contact: Yup.string().required(\"Contact details are required for community verification and for the legal enforcement authorities.\"),\r\n          })}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            setTimeout(() => {\r\n              const alertData = {\r\n                title: values.title, \r\n                description: values.description, \r\n                contact: values.contact, \r\n                post_time: new Date().toLocaleString(),\r\n                uid: user.uid,\r\n                votes: 0,\r\n                location\r\n                };\r\n\r\n              console.log(alertData);\r\n              submitAlert(user.uid, alertData)\r\n                .then((res) => {\r\n                  setSubmitting(false);\r\n                  Toast.fire({\r\n                    icon: 'success',\r\n                    title: 'Submitted the crime alert successfully.'\r\n                  })\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 1500);\r\n                })\r\n                .catch((error) => {\r\n                  setSubmitting(false);\r\n                  Swal.fire({\r\n                    title: \"Invalid details. Please try again.\",\r\n                    text: error.message,\r\n                    icon: \"error\",\r\n                    timer: 2500\r\n                  })\r\n                });\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form className=\"spaced-form\">\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Title\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  placeholder=\"Enter title\"\r\n                  className={`form-control ${\r\n                    touched.title && errors.title ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"title\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Description\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  placeholder=\"Enter description\"\r\n                  className={`form-control ${\r\n                    touched.description && errors.description ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"description\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Contact\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"contact\"\r\n                  placeholder=\"Enter contact details\"\r\n                  className={`form-control ${\r\n                    touched.contact && errors.contact ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"contact\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              \r\n              <div className=\"form-group\">\r\n                <button id=\"location-btn\" onClick={handleLocation} className=\"mdc-button mdc-button--raised general\">\r\n                  <small> Add Location </small>\r\n                </button>\r\n                {\r\n                  location !== undefined && location !== null &&\r\n                  <MapComponent \r\n                  isMarkerShown\r\n                  googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDljegl-khc3VGfDMlG_2BpPF21jyFy5Ss&libraries=places&v=weekly\"\r\n                  location={location}\r\n                  loadingElement={<div style={{ height: `100%` }} />}\r\n                  containerElement={<div style={{ height: `400px` }} />}\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                  />\r\n                }\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"mdc-button mdc-button--raised general\" disabled={isSubmitting}>\r\n                {isSubmitting ? \r\n                  <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                  : \"Report Crime\"}\r\n              </button>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n      </div>\r\n    </>\r\n  )\r\n}","import React from \"react\";\r\nimport { logout, rankList, rankColor } from \"../api/api\";\r\n\r\n\r\nexport default function Profile({name, image_url, email, rank, rep, coins}) {\r\n    const rankIndex = Math.min(Math.floor(rep / 200), rankList.length-1);\r\n    return (\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <img id=\"profile-img\" src={image_url} alt={name} style={{\r\n          borderColor: rankColor[rankIndex], \r\n          borderStyle: 'outset',\r\n          borderWidth: '0.36rem'\r\n          }}/><br/>\r\n        <h3>{name}</h3>\r\n        <div>{email}</div>\r\n        <div><b>Rank:</b> {rankList[rankIndex]}</div>\r\n        <div><b>Reputation:</b> {rep}</div>\r\n        <div><b>Coins:</b> {coins}</div>\r\n        <br/>\r\n        <button style={{marginLeft: 15}} onClick={logout} className=\"mdc-button mdc-button--raised general\">Logout</button>\r\n      </div>\r\n    );\r\n}","import React from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { login } from \"../api/api\";\r\nimport Profile from './Profile';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\n\r\nexport default function Login({user}) {\r\n    \r\n    if (user != null) {\r\n      return (\r\n        <Profile \r\n        name={user.name}\r\n        rank={user.rank}\r\n        rep={user.rep}\r\n        coins={user.coins}\r\n        email={user.email}\r\n        image_url={user.image_url}/>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <h3>Welcome Back!</h3>\r\n          <div className=\"formik\">\r\n            <Formik\r\n              initialValues={{ email: \"\", password: \"\" }}\r\n              validationSchema={Yup.object({\r\n                email: Yup.string()\r\n                  .email(\"Invalid email address\")\r\n                  .required(\"An email address is required\"),\r\n                password: Yup.string().required(\"Password is required\"),\r\n              })}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                  login(values.email, values.password)\r\n                    .then((user) => {\r\n                      setSubmitting(false);\r\n                      Toast.fire({\r\n                        icon: 'success',\r\n                        title: 'Signed in successfully.'\r\n                      })\r\n                      // Redirect using html for page refresh\r\n                      setTimeout(() => {\r\n                        window.location.reload();\r\n                      }, 1500);\r\n                    })\r\n                    .catch((error) => {\r\n                      setSubmitting(false);\r\n                      Swal.fire({\r\n                        title: \"Invalid login details. Please try again.\",\r\n                        text: error.message,\r\n                        icon: \"error\",\r\n                        timer: 2500\r\n                      })\r\n                    });\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting }) => (\r\n                <Form>\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Email\r\n                    </small>\r\n                    <Field\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Enter email\"\r\n                      className={`form-control ${\r\n                        touched.email && errors.email ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"email\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Password\r\n                    </small>\r\n                    <Field\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      placeholder=\"Enter password\"\r\n                      className={`form-control ${\r\n                        touched.password && errors.password ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"password\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  <br/>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"mdc-button mdc-button--raised general\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    {isSubmitting ? \r\n                      <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                      : \"Login\"}\r\n                  </button>\r\n\r\n                 \r\n                </Form>\r\n              )}\r\n            </Formik>\r\n\r\n          </div>\r\n          <br/>\r\n          <h6>New user? Join our gamified crime alert community today.</h6>\r\n            <button className=\"mdc-button mdc-button--raised general\">\r\n            <a data-toggle=\"tab\" href=\"#register\">Register</a>\r\n            </button>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { register } from \"../api/api\";\r\nimport Profile from './Profile';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\n\r\nexport default function Register({user}) {\r\n    \r\n    if (user != null) {\r\n      return (\r\n        <Profile \r\n        name={user.name}\r\n        rank={user.rank}\r\n        rep={user.rep}\r\n        coins={user.coins}\r\n        email={user.email}\r\n        image_url={user.image_url}/>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <h3>Join us today!</h3>\r\n          <div className=\"formik\">\r\n            <Formik\r\n              initialValues={{ email: \"\", password: \"\", name: \"\", image_url: \"\" }}\r\n              validationSchema={Yup.object({\r\n                email: Yup.string().email(\"Invalid email address\").required(\"An email address is required.\"),\r\n                password: Yup.string().required(\"A password is required.\"),\r\n                name: Yup.string().required(\"Please enter your full name.\"),\r\n                image_url: Yup.string().required(\"A valid image URL is required for your display picture.\")\r\n              })}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                  register(values.email, values.password, values.name, values.image_url)\r\n                    .then((user) => {\r\n                      setSubmitting(false);\r\n                      Toast.fire({\r\n                        icon: 'success',\r\n                        title: 'Registered successfully. Please proceed to login.'\r\n                      })\r\n                      // Redirect using html for page refresh\r\n                      setTimeout(() => {\r\n                        window.location.replace(\"#login\");\r\n                        window.location.reload();\r\n                      }, 1500);\r\n                    })\r\n                    .catch((error) => {\r\n                      setSubmitting(false);\r\n                      Swal.fire({\r\n                        title: \"Invalid details. Please try again.\",\r\n                        text: error.message,\r\n                        icon: \"error\",\r\n                        timer: 2500\r\n                      })\r\n                    });\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting }) => (\r\n                <Form className=\"spaced-form\">\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Name\r\n                    </small>\r\n                    <Field\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      placeholder=\"Enter name\"\r\n                      className={`form-control ${\r\n                        touched.name && errors.name ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"name\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Email\r\n                    </small>\r\n                    <Field\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Enter email\"\r\n                      className={`form-control ${\r\n                        touched.email && errors.email ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"email\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Password\r\n                    </small>\r\n                    <Field\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      placeholder=\"Enter password\"\r\n                      className={`form-control ${\r\n                        touched.password && errors.password ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"password\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  \r\n\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Display Image URL\r\n                    </small>\r\n                    <Field\r\n                      type=\"text\"\r\n                      name=\"image_url\"\r\n                      placeholder=\"Enter an image URL for your display picture hosted online\"\r\n                      className={`form-control ${\r\n                        touched.image_url && errors.image_url ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"image_url\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"mdc-button mdc-button--raised general\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    {isSubmitting ? \r\n                      <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                      : \"Register\"}\r\n                  </button>\r\n\r\n                 \r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </div>\r\n          <br/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React, {useState, useEffect} from 'react';\r\nimport { getShopItems, purchaseItem } from '../api/api'\r\nimport Toast from './Toast';\r\nimport Swal from 'sweetalert2';\r\n\r\nfunction ShopCard({image_url, uid, ucoins, description, title, coins, due_time, id}) {\r\n  function handlePurchase() {\r\n    if (ucoins < coins) {\r\n      Swal.fire({\r\n        title: \"Unable to purchase. You might have insufficient coins.\",\r\n        text: \"Error.\",\r\n        icon: \"error\",\r\n        timer: 2500\r\n      })\r\n    }\r\n    else {\r\n      purchaseItem(coins, uid)\r\n        .then((res) => {\r\n          Toast.fire({\r\n            icon: 'success',\r\n            title: 'Purchase successful. Further details will be emailed to your later.'\r\n          })\r\n          window.location.reload();\r\n        })\r\n        .catch((error) => {\r\n          Swal.fire({\r\n            title: \"Unable to purchase.\",\r\n            text: error.message,\r\n            icon: \"error\",\r\n            timer: 2500\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n  <div className=\"col-sm-3 shop-card\">\r\n    <img className=\"card-img-top shop-card-img\" src={image_url} alt={title}/>\r\n    <div className=\"card-body shop-card-body\">\r\n      <h5 className=\"card-title shop-card-title\">{title}</h5>\r\n      <p className=\"card-text shop-card-text\">{description}</p>\r\n      {\r\n        due_time !== null &&\r\n        <p className=\"card-extra\">Avail Until {due_time.toDate().toLocaleString().toString()}</p>\r\n      }\r\n      <button onClick={handlePurchase} className=\"btn btn-primary shop-btn\">{coins} Coins</button>\r\n    </div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default function Shop({user}) {\r\n\r\n  const [shopItems, setShopItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Setting user state if user logged in.\r\n  useEffect(() => {\r\n    getShopItems()\r\n    .then(async (shopDocs) => {\r\n        setShopItems(shopDocs);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setShopItems([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h3>Shop</h3>\r\n      {\r\n        user &&\r\n        <p className=\"card-extra\">Coins: {user.coins}</p>\r\n      }\r\n      <p>Use your hard-earned coins from crime fighting to avail coupons, discounts and protection gear. </p>\r\n\r\n      <div className=\"row\">\r\n      {\r\n        !loading &&\r\n\r\n        shopItems.map(({title, description, coins, image_url, due_time, id}) => \r\n        <ShopCard \r\n        id={id}\r\n        uid={user && user.uid}\r\n        ucoins={user && user.coins}\r\n        title={title}\r\n        description={description}\r\n        coins={coins}\r\n        image_url={image_url}\r\n        due_time={due_time}\r\n        />\r\n        )\r\n      }\r\n      </div>\r\n    </>\r\n  )\r\n}","import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport Home from './components/Home';\r\nimport AlertView from './components/AlertView';\r\nimport Map from './components/Map';\r\nimport AlertForm from './components/AlertForm';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Shop from './components/Shop';\r\nimport { getLoggedInUser, getUserDetails, getAllAlerts } from \"./api/api\";\r\n\r\n\r\nfunction App() {\r\n  const [authStatusLoaded, setAuthStatusLoaded] = useState(false); // used to wait if any user is logged in\r\n  const [user, setUser] = useState(null);\r\n  const [alertsList, setAlertList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n  // Setting user state if user logged in.\r\n  useEffect(() => {\r\n    getLoggedInUser()\r\n      .then(async (user) => {\r\n        let details = await getUserDetails(user.uid);\r\n        setUser({ ...user, ...details });\r\n        setAuthStatusLoaded(true);\r\n      })\r\n      .catch(() => {\r\n        setUser(null);\r\n        setAuthStatusLoaded(true);\r\n      });\r\n    \r\n    getAllAlerts()\r\n    .then(async (alertDocs) => {\r\n        setAlertList(alertDocs);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setAlertList([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // if authentication has not been loaded yet\r\n  if (!authStatusLoaded) {\r\n    return (\r\n      <div id=\"loading-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark fixed-top\">\r\n        <a className=\"navbar-brand title-text\" href=\"#home\">Crime Fighters</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-target=\"#collapsibleNavbar\" data-toggle=\"collapse\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n          <ul className=\"nav nav-tabs navbar-nav\">\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link active\" data-toggle=\"tab\" href=\"#home\">Home</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" data-toggle=\"tab\" href=\"#login\">{user == null ? \"Login\" : \"Profile\"}</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" data-toggle=\"tab\" href=\"#form\">Report a Crime</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#view\">View Crime Log</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#locate\">Locate</a>\r\n            </li>    \r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#shop\">Shop</a>\r\n            </li>   \r\n          </ul>\r\n      </div>  \r\n    </nav>\r\n\r\n    <div className=\"tab-content container\" id=\"main\">\r\n\r\n      <div id=\"home\" className=\"tab-pane fade in active show\">\r\n        <Home user={user}/>\r\n      </div>\r\n\r\n      <div id=\"login\" className=\"tab-pane fade\">\r\n        <Login user={user}/>\r\n      </div>\r\n\r\n      <div id=\"register\" className=\"tab-pane fade\">\r\n        <Register user={user}/>\r\n      </div>\r\n\r\n      <div id=\"view\" className=\"tab-pane fade\">\r\n        <AlertView user={user} alertsList={alertsList} loading={loading}/>\r\n      </div>\r\n\r\n      <div id=\"locate\" className=\"tab-pane fade\">\r\n        <Map user={user} alertsList={alertsList} loading={loading}/>\r\n      </div>\r\n\r\n      <div id=\"form\" className=\"tab-pane fade\">\r\n        <AlertForm user={user}/>\r\n      </div>\r\n\r\n      <div id=\"shop\" className=\"tab-pane fade\">\r\n        <Shop user={user}/>\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\nserviceWorker.register();\r\n"],"sourceRoot":""}