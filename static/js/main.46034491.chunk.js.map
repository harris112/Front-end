{"version":3,"sources":["components/Home.js","api/firebaseConfig.js","api/api.js","components/Alert.js","components/AlertView.js","components/MapComponents.js","components/Map.js","components/Toast.js","components/AlertForm.js","components/Profile.js","components/Login.js","components/Register.js","components/Shop.js","App.js","serviceWorker.js","index.js"],"names":["Home","className","style","marginTop","data-toggle","href","width","height","src","alt","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","store","firestore","auth","languageCode","rankList","rankColor","email","password","a","Promise","resolve","reject","signInWithEmailAndPassword","then","resp","getLoggedInUser","user","getUserDetails","uid","details","catch","error","console","log","message","logout","signOut","window","location","replace","reload","err","name","image_url","createUserWithEmailAndPassword","setTimeout","collection","doc","set","coins","rep","onAuthStateChanged","get","exists","data","getAlertComments","alertId","where","snapshot","empty","docs","map","querySnapshot","alertsList","forEach","push","id","all","alert","rankIndex","Math","min","floor","length","uname","ucolor","comments","comment","shopItems","costCoins","update","FieldValue","increment","alertID","votes","upvotes_list","arrayUnion","downvotes_list","arrayRemove","add","alert_id","description","post_time","Date","toString","Alert","title","contact","user_uid","upvoted","downvoted","useState","upvotedState","setUpvotedState","downvotedState","setDownvotedState","votesState","setVotesState","commentsOpen","setCommentsOpen","useEffect","color","latitude","longitude","onClick","removeUpvote","upvoteFromDownvoteAlert","upvoteAlert","class","removeDownvote","downvoteFromUpvoteAlert","downvoteAlert","initialValues","validationSchema","Yup","onSubmit","values","setSubmitting","postComment","res","touched","errors","isSubmitting","type","placeholder","component","disabled","role","AlertView","loading","includes","MapComponent","withScriptjs","withGoogleMap","isMarkerShown","defaultZoom","defaultCenter","lat","lng","position","MainMap","markerList","markerLoc","Map","initLocation","setInitLocation","alertWithLoc","find","undefined","googleMapURL","loadingElement","containerElement","mapElement","Toast","Swal","mixin","toast","showConfirmButton","timer","timerProgressBar","onOpen","addEventListener","stopTimer","resumeTimer","AlertForm","setLocation","handleLocation","navigator","geolocation","getCurrentPosition","coords","gp","GeoPoint","required","alertData","toLocaleString","submitAlert","fire","icon","text","Profile","borderColor","borderStyle","borderWidth","marginLeft","Login","rank","login","Register","register","ShopCard","ucoins","due_time","toDate","purchaseItem","Shop","setShopItems","setLoading","getShopItems","shopDocs","App","authStatusLoaded","setAuthStatusLoaded","setUser","setAlertList","getAllAlerts","alertDocs","data-target","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","ReactDOM","render","document","getElementById","URL","process","origin","fetch","headers","response","contentType","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.46034491.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function Home() {\r\n  return (\r\n    <>\r\n      <h1 className=\"title-text\">CRIME FIGHTERS</h1>\r\n      <h4>Take justice in your own hands.</h4>\r\n      \r\n      <div style={{marginTop: 20}}></div>\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#view\">\r\n        View Crime Alerts\r\n      </a>\r\n      </button>\r\n\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#form\">\r\n        Report a Crime\r\n      </a>\r\n      </button>\r\n\r\n      <div style={{marginTop: 30}}></div>\r\n      <img width=\"340px\" height=\"200px\" src=\"https://pngimg.com/uploads/handcuffs/handcuffs_PNG33.png\" alt=\"logo\"/>\r\n      <div style={{marginTop: 20}}></div>\r\n      \r\n      <h6>Join our gamified crime alert community today.</h6>\r\n      <button className=\"mdc-button mdc-button--raised general\">\r\n      <a data-toggle=\"tab\" href=\"#register\">\r\n        Register Now\r\n      </a>\r\n      </button>\r\n\r\n    </>\r\n  )\r\n}","// Configuration for firebase authentication\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCUYFOJIWpUXGo51TvSiu0am3ov1bTenFA\",\r\n  authDomain: \"crime-alert-22ab6.firebaseapp.com\",\r\n  projectId: \"crime-alert-22ab6\",\r\n  storageBucket: \"crime-alert-22ab6.appspot.com\",\r\n  messagingSenderId: \"1016818394710\",\r\n  appId: \"1:1016818394710:web:98b1c9fb98af95aefb3df7\",\r\n  measurementId: \"G-62L51TS7SP\"\r\n};\r\n  \r\nexport default firebaseConfig;","// All of the Login component's API calls and helpers go here.\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport firebaseConfig from \"./firebaseConfig\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst store = firebase.firestore();\r\nfirebase.auth().languageCode = \"en\";\r\n\r\n\r\nexport const rankList = ['Beginner', 'Watcher', 'Patrol Guard', 'Crime Fighter', 'Bane of Justice', 'Batman'];\r\nexport const rankColor = ['white', 'darkseagreen', 'lightblue', 'mediumpurple', 'lightcoral', 'gold'];\r\n\r\nexport async function login(email, password) {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(async (resp) => {    \r\n        getLoggedInUser()\r\n        .then(async (user) => {\r\n          let details = await getUserDetails(user.uid);\r\n          resolve({ ...user, ...details });\r\n        });    \r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Login failed: \", error.message);\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\nexport async function logout() {\r\n  firebaseApp\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      console.log(\"Successful log out\");\r\n      window.location.replace(\"#home\");\r\n      window.location.reload();\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Logout failed \", err);\r\n    });\r\n}\r\n\r\nexport async function register(email, password, name, image_url) {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp\r\n      .auth()\r\n      .createUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      )\r\n      .then((resp) => {\r\n        setTimeout(() => {\r\n          store\r\n            .collection(\"user\")\r\n            .doc(resp.user.uid)\r\n            .set({\r\n              email, name, image_url,\r\n              uid: resp.user.uid,\r\n              coins: 100,\r\n              rep: 0,\r\n            })\r\n            .then(() => {\r\n              resolve(resp.user);\r\n            })\r\n            .catch((error) => {\r\n              reject(error);\r\n            });\r\n        }, 100);\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport async function getLoggedInUser() {\r\n  return new Promise((resolve, reject) => {\r\n    firebaseApp.auth().onAuthStateChanged((user) => {\r\n      if (user) resolve(user);\r\n      else reject(false);\r\n    });\r\n  });\r\n}\r\n\r\n\r\nexport async function getUserDetails(uid) {\r\n    return new Promise((resolve, reject) => {\r\n        store\r\n        .collection(\"user\")\r\n        .doc(uid)\r\n        .get()\r\n        .then((details) => {\r\n            if (details.exists) resolve(details.data());\r\n            else reject(null);\r\n        })\r\n        .catch((err) => {\r\n            reject(err);\r\n        });\r\n    });\r\n}\r\n\r\nexport async function getAlertComments(alertId) {\r\n  return new Promise((resolve, reject) => {\r\n      store\r\n      .collection(\"comment\")\r\n      .where('alert_id','==',alertId)\r\n      .get()\r\n      .then((snapshot) => {\r\n          if (snapshot.empty) {\r\n            resolve([]);\r\n          }\r\n          else {\r\n            resolve(snapshot.docs.map(docs => docs.data()));\r\n          }  \r\n      })\r\n      .catch((err) => {\r\n          reject(err);\r\n      });\r\n  });\r\n}\r\n\r\nexport async function getAllAlerts() {\r\n  const querySnapshot = await store.collection(\"alert\").get();\r\n  \r\n  let alertsList = [];\r\n  querySnapshot.forEach(doc => {\r\n    alertsList.push({id: doc.id, ... doc.data()});\r\n  });\r\n\r\n  return Promise.all(alertsList.map(async alert => {\r\n    const user = await getUserDetails(alert.uid);\r\n    const rankIndex = Math.min(Math.floor(user.rep / 200), rankList.length-1);\r\n    alert.uname = user.name;\r\n    alert.ucolor = rankColor[rankIndex];\r\n\r\n    const comments = await getAlertComments(alert.id);\r\n    alert.comments = await Promise.all(comments.map(async comment => {\r\n      const user = await getUserDetails(comment.uid);\r\n      const rankIndex = Math.min(Math.floor(user.rep / 200), rankList.length-1);\r\n      comment.uname = user.name;\r\n      comment.ucolor = rankColor[rankIndex];\r\n      return comment;\r\n    }));\r\n    return alert;\r\n  }));\r\n}\r\n\r\n\r\nexport async function getShopItems() {\r\n  return new Promise((resolve, reject) => {\r\n    store\r\n    .collection(\"shop\")\r\n    .get()\r\n    .then((querySnapshot) => {\r\n      let shopItems = [];\r\n      querySnapshot.forEach(doc => {\r\n        shopItems.push({id: doc.id, ...doc.data()});\r\n      });\r\n      resolve(shopItems);\r\n    })\r\n    .catch((err) => {\r\n        reject(err);\r\n    });\r\n  });\r\n}\r\n\r\nexport async function purchaseItem(costCoins, uid) {\r\n  return store\r\n  .collection(\"user\")\r\n  .doc(uid)\r\n  .update({ coins: firebase.firestore.FieldValue.increment(-costCoins)});\r\n}\r\n\r\n\r\n\r\nexport async function upvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({upvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(10),\r\n      rep: firebase.firestore.FieldValue.increment(100)});\r\n  });\r\n}\r\n\r\n\r\nexport async function downvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({downvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(-10),\r\n      rep: firebase.firestore.FieldValue.increment(-100)});\r\n  });\r\n}\r\n\r\nexport async function removeUpvote(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({upvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(-10),\r\n      rep: firebase.firestore.FieldValue.increment(-100)});\r\n  });\r\n}\r\n\r\nexport async function removeDownvote(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(1)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({downvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID),\r\n      coins: firebase.firestore.FieldValue.increment(10),\r\n      rep: firebase.firestore.FieldValue.increment(100)});\r\n  });\r\n}\r\n\r\nexport async function downvoteFromUpvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(-2)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({\r\n      upvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)\r\n    }).then(() => {\r\n      store\r\n      .collection(\"user\")\r\n      .doc(uid)\r\n      .update({\r\n        downvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n        coins: firebase.firestore.FieldValue.increment(-20),\r\n        rep: firebase.firestore.FieldValue.increment(-200)\r\n      })\r\n    })\r\n    \r\n  });\r\n}\r\n\r\n\r\nexport async function upvoteFromDownvoteAlert(alertID, uid) {\r\n  store\r\n  .collection(\"alert\")\r\n  .doc(alertID)\r\n  .update({ votes: firebase.firestore.FieldValue.increment(2)})\r\n  .then(() => {\r\n    store\r\n    .collection(\"user\")\r\n    .doc(uid)\r\n    .update({\r\n      downvotes_list: firebase.firestore.FieldValue.arrayRemove(alertID)\r\n    }).then(() => {\r\n      store\r\n      .collection(\"user\")\r\n      .doc(uid)\r\n      .update({\r\n        upvotes_list: firebase.firestore.FieldValue.arrayUnion(alertID),\r\n        coins: firebase.firestore.FieldValue.increment(20),\r\n        rep: firebase.firestore.FieldValue.increment(200)\r\n      })\r\n    })\r\n    \r\n  });\r\n}\r\n\r\n\r\nexport async function submitAlert(uid, data) {\r\n  return new Promise((resolve, reject) => {\r\n      store\r\n      .collection(\"alert\")\r\n      .doc(uid)\r\n      .set({...data})\r\n      .then(() => {\r\n        resolve(\"Submitted.\");\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport async function postComment(alertId, uid, comment) {\r\n  return new Promise((resolve, reject) => {\r\n      store\r\n      .collection(\"comment\")\r\n      .add({alert_id: alertId, uid: uid, description: comment, post_time: new Date().toString()})\r\n      .then(() => {\r\n        resolve(\"Posted.\");\r\n        window.location.reload();\r\n      })\r\n      .catch((error) => {\r\n        reject(error);\r\n      });\r\n  });\r\n}\r\n\r\n\r\nexport default firebaseApp;","import React, { useEffect, useState } from 'react';\r\nimport { postComment, upvoteAlert, downvoteAlert, downvoteFromUpvoteAlert, upvoteFromDownvoteAlert, removeDownvote, removeUpvote } from '../api/api';\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nexport default function Alert({id, title, post_time, votes, contact, description, user_uid, uid, comments, uname, ucolor, location, upvoted, downvoted}) {\r\n  const [upvotedState, setUpvotedState] = useState(upvoted);\r\n  const [downvotedState, setDownvotedState] = useState(downvoted);\r\n  const [votesState, setVotesState] = useState(votes);\r\n  const [commentsOpen, setCommentsOpen] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    setUpvotedState(upvoted);\r\n    setDownvotedState(downvoted);\r\n    setVotesState(votes);\r\n  }, [upvoted, downvoted, votes]);\r\n\r\n  function handleUpvote() {\r\n    if (!upvotedState) {\r\n      if (downvotedState) {\r\n        upvoteFromDownvoteAlert(id, user_uid);\r\n        setVotesState(votesState+2);\r\n      }\r\n      else {\r\n        upvoteAlert(id, user_uid);\r\n        setVotesState(votesState+1);\r\n      }\r\n      setUpvotedState(true);\r\n      setDownvotedState(false);\r\n    }\r\n    else { //unvote\r\n      removeUpvote(id, user_uid);\r\n      setVotesState(votesState-1);\r\n      setUpvotedState(false);\r\n    }\r\n  }\r\n\r\n  function handleDownvote() {\r\n    if (!downvotedState) {\r\n      if (upvotedState) {\r\n        downvoteFromUpvoteAlert(id, user_uid);\r\n        setVotesState(votesState-2);\r\n      }\r\n      else {\r\n        downvoteAlert(id, user_uid);\r\n        setVotesState(votesState-1);\r\n      }\r\n      setDownvotedState(true);\r\n      setUpvotedState(false);\r\n    }\r\n    else { //unvote\r\n      removeDownvote(id, user_uid);\r\n      setVotesState(votesState+1);\r\n      setDownvotedState(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className=\"card\" >\r\n      <div className=\"card-body\">\r\n        <h6 className=\"card-subtitle2\" style={{color: ucolor}}>{uname}</h6>\r\n        <h5 className=\"card-title\">{title}</h5>\r\n        <h6 className=\"card-subtitle\">{post_time}</h6>\r\n        <p className=\"card-text\">{description}</p>\r\n\r\n        <div className=\"card-minor\">\r\n          <div className=\"card-extra\">{contact}</div>\r\n          {\r\n            location != null &&\r\n            <div className=\"card-loc\">{location.latitude}, {location.longitude}</div>\r\n          }\r\n        </div>\r\n        \r\n        <button onClick={handleUpvote} class={upvotedState === true ? \"stat-item-marked\" : \"stat-item\"}> <i class=\"fa fa-thumbs-up icon\"></i></button> &nbsp;{votesState}&nbsp;&nbsp;\r\n        <button onClick={handleDownvote} class={downvotedState === true ? \"stat-item-marked\" : \"stat-item\"}> <i class=\"fa fa-thumbs-down icon\"></i></button>\r\n\r\n        &nbsp;&nbsp;\r\n        <button id=\"comment-btn\" onClick={() => setCommentsOpen(!commentsOpen)} class={commentsOpen ? \"stat-item-marked\" : \"stat-item\"}> <i class=\"fa fa-comments icon\"></i></button>\r\n      </div>\r\n    </div>\r\n      <div className=\"comments-list\">\r\n        {\r\n          commentsOpen &&\r\n          comments.map(({description, post_time, uid, uname, ucolor}) => {\r\n            return (\r\n            <div className=\"comment-body\">\r\n              <h6 className=\"comment-name\" style={{color: ucolor}} >{uname}</h6>\r\n              <h6 className=\"comment-time\" >{post_time}</h6>\r\n              <h5 className=\"comment-desc\">{description}</h5>\r\n            </div>\r\n            );\r\n          })\r\n        }\r\n      {\r\n        commentsOpen &&\r\n        <Formik\r\n          initialValues={{ comment: \"\" }}\r\n          validationSchema={Yup.object({\r\n            comment: Yup.string(),\r\n          })}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            setTimeout(() => {\r\n              postComment(id, uid, values.comment)\r\n                .then((res) => {\r\n                  setSubmitting(false);\r\n                })\r\n                .catch((error) => {\r\n                  setSubmitting(false);\r\n                });\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <div className=\"row\">\r\n\r\n                <div className=\"col-sm-8 form-group\">\r\n                  <small>\r\n                    Comment\r\n                  </small>\r\n                  <Field\r\n                    type=\"text\"\r\n                    name=\"comment\"\r\n                    placeholder=\"Enter your comment here\"\r\n                    className={`form-control ${\r\n                      touched.comment && errors.comment ? \"is-invalid\" : \"\"\r\n                    }`}\r\n                  />\r\n                  <ErrorMessage\r\n                    component=\"div\"\r\n                    name=\"comment\"\r\n                    className=\"invalid-feedback\"\r\n                  />\r\n                </div>\r\n\r\n                <br/>\r\n                <button type=\"submit\" className=\"col-sm-2 comment-submit mdc-button mdc-button--raised general\" disabled={isSubmitting}\r\n                >\r\n                  {isSubmitting ? \r\n                    <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                    : \"Post\"}\r\n                </button>\r\n              </div>\r\n\r\n              \r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      }\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}","import React, {useState, useEffect} from 'react';\r\nimport Alert from './Alert';\r\nimport { getAllAlerts } from '../api/api';\r\n\r\nexport default function AlertView({user, loading, alertsList}) {\r\n\r\n  return (\r\n    <>\r\n      <h3>Crime Logs</h3>\r\n      <p>Displaying all posted crime alerts. <i>Be cautious of any fake alerts and report them to us.</i></p>\r\n      {\r\n        user == null ? \"Please login to view our alerts.\"\r\n        : loading ?        \r\n        <div id=\"loading\">\r\n          <div className=\"d-flex justify-content-center\">\r\n            <div className=\"spinner-border\" role=\"status\">\r\n            </div>\r\n          </div>\r\n        </div>\r\n        : alertsList.length === 0 ? \r\n        <p>No alerts to display.</p> :\r\n        alertsList.map(({id, title, post_time, votes, location, contact, description, comments, uid, uname, ucolor}) =>\r\n            <Alert \r\n            id={id}\r\n            title={title}\r\n            uid={uid}\r\n            uname={uname}\r\n            ucolor={ucolor}\r\n            comments={comments}\r\n            user_uid={user.uid}\r\n            post_time={post_time}\r\n            votes={votes} \r\n            location={location}\r\n            contact={contact}\r\n            description={description}\r\n            upvoted={user.upvotes_list.includes(id)}\r\n            downvoted={user.downvotes_list.includes(id)}\r\n            />\r\n        )\r\n      }      \r\n    </>\r\n  )\r\n}","import React from 'react';\r\nimport { withScriptjs, withGoogleMap, GoogleMap, Marker } from \"react-google-maps\"\r\n\r\nexport const MapComponent = withScriptjs(withGoogleMap(({isMarkerShown, location}) => {\r\n    if (!location) {\r\n      return <></>;\r\n    }   \r\n\r\n    return <GoogleMap\r\n      defaultZoom={15}\r\n      defaultCenter={{ lat: location.latitude, lng: location.longitude }}\r\n    >\r\n      {isMarkerShown && <Marker position={{ lat: location.latitude, lng: location.longitude }} />}\r\n    </GoogleMap>;\r\n  } \r\n))\r\n\r\nexport const MainMap = withScriptjs(withGoogleMap(({markerList, location}) => {\r\n  \r\n  return <GoogleMap\r\n      defaultZoom={5}\r\n      defaultCenter={{ lat: location.latitude, lng: location.longitude }}\r\n    >\r\n    { \r\n      markerList.map(markerLoc => {\r\n        if (markerLoc !== null) {\r\n          return <Marker position={{ lat: markerLoc.latitude, lng: markerLoc.longitude }}/>\r\n        }\r\n      })  \r\n    }\r\n  </GoogleMap>;\r\n} \r\n))","import React, {useState, useEffect} from 'react';\r\nimport {MainMap} from './MapComponents';\r\n\r\nexport default function Map({user, alertsList, loading}) {\r\n  const [initLocation, setInitLocation] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const alertWithLoc = alertsList.find(alert => alert.location !== null);\r\n    if (alertWithLoc === undefined) {\r\n      setInitLocation(null);\r\n    }\r\n    else {\r\n      setInitLocation(alertWithLoc.location);\r\n    }\r\n    \r\n  }, [alertsList]);\r\n\r\n  return (\r\n    <>\r\n      <h3>Locate</h3>\r\n      <p>The <b>markers</b> represent all crime alerts submitted by other Crime Fighters.</p>\r\n      {\r\n        (!loading && alertsList.length !== 0) &&\r\n        <MainMap \r\n        googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDljegl-khc3VGfDMlG_2BpPF21jyFy5Ss&libraries=places&v=weekly\"\r\n        location={initLocation}\r\n        markerList={alertsList.map(alert => alert.location)}\r\n        loadingElement={<div style={{ height: `100%` }} />}\r\n        containerElement={<div style={{ height: `330px` }} />}\r\n        mapElement={<div style={{ height: `100%` }} />}\r\n        />\r\n      }\r\n      <br/>\r\n      <br/>\r\n    </>\r\n  )\r\n}","import Swal from \"sweetalert2\";\r\n\r\nconst Toast = Swal.mixin({\r\n    toast: true,\r\n    position: 'top-end',\r\n    showConfirmButton: false,\r\n    timer: 1500,\r\n    timerProgressBar: true,\r\n    onOpen: (toast) => {\r\n        toast.addEventListener('mouseenter', Swal.stopTimer)\r\n        toast.addEventListener('mouseleave', Swal.resumeTimer)\r\n}\r\n});\r\n\r\nexport default Toast;","import React, {useState, useEffect} from 'react';\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { MapComponent } from './MapComponents';\r\nimport { submitAlert } from '../api/api';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\nimport firebase from \"firebase/app\";\r\n\r\n\r\nexport default function AlertForm({user}) {\r\n  const [location, setLocation] = useState(null);\r\n\r\n  function handleLocation() {\r\n    if('geolocation' in navigator) {\r\n      function success(position) {\r\n        let lat = position.coords.latitude;\r\n        let lng = position.coords.longitude;\r\n        \r\n        const gp = new firebase.firestore.GeoPoint(lat, lng);\r\n        setLocation(gp);\r\n      }\r\n\r\n      function error() {\r\n        alert('Sorry, no position available.');\r\n      }\r\n      navigator.geolocation.getCurrentPosition(success, error);\r\n    } \r\n    else {\r\n      alert(\"getCurrentPosition Error\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n      <h3>Report a Crime</h3>\r\n      <p>When a criminal activity is suspected, members are encouraged to report to authorities, and not to intervene. <br/><i>Any false reports will be downvoted and bad reputation can lead to an account ban so please refrain from such activity.</i></p>\r\n      <div className=\"formik\">\r\n        <Formik\r\n          initialValues={{ title: \"\", description: \"\", contact: \"\"}}\r\n          validationSchema={Yup.object({\r\n            title: Yup.string().required(\"Please give an appropriate title and category to the alert.\"),\r\n            description: Yup.string().required(\"A complete description about the crime details and the suspect you witnessed is required.\"),\r\n            contact: Yup.string().required(\"Contact details are required for community verification and for the legal enforcement authorities.\"),\r\n          })}\r\n          onSubmit={(values, { setSubmitting }) => {\r\n            setTimeout(() => {\r\n              const alertData = {\r\n                title: values.title, \r\n                description: values.description, \r\n                contact: values.contact, \r\n                post_time: new Date().toLocaleString(),\r\n                uid: user.uid,\r\n                votes: 0,\r\n                location: location\r\n                };\r\n\r\n              console.log(alertData);\r\n              submitAlert(user.uid, alertData)\r\n                .then((res) => {\r\n                  setSubmitting(false);\r\n                  Toast.fire({\r\n                    icon: 'success',\r\n                    title: 'Submitted the crime alert successfully.'\r\n                  })\r\n                  setTimeout(() => {\r\n                    window.location.reload();\r\n                  }, 1500);\r\n                })\r\n                .catch((error) => {\r\n                  setSubmitting(false);\r\n                  Swal.fire({\r\n                    title: \"Invalid details. Please try again.\",\r\n                    text: error.message,\r\n                    icon: \"error\",\r\n                    timer: 2500\r\n                  })\r\n                });\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form className=\"spaced-form\">\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Title\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"title\"\r\n                  placeholder=\"Enter title\"\r\n                  className={`form-control ${\r\n                    touched.title && errors.title ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"title\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Description\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"description\"\r\n                  placeholder=\"Enter description\"\r\n                  className={`form-control ${\r\n                    touched.description && errors.description ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"description\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <button id=\"location-btn\" onClick={handleLocation} className=\"mdc-button mdc-button--raised general\">\r\n                  <small> Add Location </small>\r\n                </button>\r\n                {\r\n                  location !== undefined && location !== null &&\r\n                  <MapComponent \r\n                  isMarkerShown\r\n                  googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDljegl-khc3VGfDMlG_2BpPF21jyFy5Ss&libraries=places&v=weekly\"\r\n                  location={location}\r\n                  loadingElement={<div style={{ height: `100%` }} />}\r\n                  containerElement={<div style={{ height: `400px` }} />}\r\n                  mapElement={<div style={{ height: `100%` }} />}\r\n                  />\r\n                }\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <small>\r\n                  Contact\r\n                </small>\r\n                <Field\r\n                  type=\"text\"\r\n                  name=\"contact\"\r\n                  placeholder=\"Enter contact details\"\r\n                  className={`form-control ${\r\n                    touched.contact && errors.contact ? \"is-invalid\" : \"\"\r\n                  }`}\r\n                />\r\n                <ErrorMessage\r\n                  component=\"div\"\r\n                  name=\"contact\"\r\n                  className=\"invalid-feedback\"\r\n                />\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"mdc-button mdc-button--raised general\" disabled={isSubmitting}>\r\n                {isSubmitting ? \r\n                  <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                  : \"Report Crime\"}\r\n              </button>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n      </div>\r\n    </>\r\n  )\r\n}","import React from \"react\";\r\nimport { logout, rankList, rankColor } from \"../api/api\";\r\n\r\n\r\nexport default function Profile({name, image_url, email, rep, coins}) {\r\n    const rankIndex = Math.min(Math.floor(rep / 200), rankList.length-1);\r\n    return (\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <img id=\"profile-img\" src={image_url} alt={name} style={{\r\n          borderColor: rankColor[rankIndex], \r\n          borderStyle: 'outset',\r\n          borderWidth: '0.36rem'\r\n          }}/><br/>\r\n        <h3>{name}</h3>\r\n        <div>{email}</div>\r\n        <div><b>Rank:</b> {rankList[rankIndex]}</div>\r\n        <div><b>Reputation:</b> {rep}</div>\r\n        <div><b>Coins:</b> {coins}</div>\r\n        <br/>\r\n        <button style={{marginLeft: 15}} onClick={logout} className=\"mdc-button mdc-button--raised general\">Logout</button>\r\n      </div>\r\n    );\r\n}","import React from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { login } from \"../api/api\";\r\nimport Profile from './Profile';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\n\r\nexport default function Login({user}) {\r\n    \r\n    if (user != null) {\r\n      return (\r\n        <Profile \r\n        name={user.name}\r\n        rank={user.rank}\r\n        rep={user.rep}\r\n        coins={user.coins}\r\n        email={user.email}\r\n        image_url={user.image_url}/>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <h3>Welcome Back!</h3>\r\n          <div className=\"formik\">\r\n            <Formik\r\n              initialValues={{ email: \"\", password: \"\" }}\r\n              validationSchema={Yup.object({\r\n                email: Yup.string()\r\n                  .email(\"Invalid email address\")\r\n                  .required(\"An email address is required\"),\r\n                password: Yup.string().required(\"Password is required\"),\r\n              })}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                  login(values.email, values.password)\r\n                    .then((user) => {\r\n                      setSubmitting(false);\r\n                      Toast.fire({\r\n                        icon: 'success',\r\n                        title: 'Signed in successfully.'\r\n                      })\r\n                      // Redirect using html for page refresh\r\n                      setTimeout(() => {\r\n                        window.location.reload();\r\n                      }, 1500);\r\n                    })\r\n                    .catch((error) => {\r\n                      setSubmitting(false);\r\n                      Swal.fire({\r\n                        title: \"Invalid login details. Please try again.\",\r\n                        text: error.message,\r\n                        icon: \"error\",\r\n                        timer: 2500\r\n                      })\r\n                    });\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting }) => (\r\n                <Form>\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Email\r\n                    </small>\r\n                    <Field\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Enter email\"\r\n                      className={`form-control ${\r\n                        touched.email && errors.email ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"email\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Password\r\n                    </small>\r\n                    <Field\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      placeholder=\"Enter password\"\r\n                      className={`form-control ${\r\n                        touched.password && errors.password ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"password\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  <br/>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"mdc-button mdc-button--raised general\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    {isSubmitting ? \r\n                      <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                      : \"Login\"}\r\n                  </button>\r\n\r\n                 \r\n                </Form>\r\n              )}\r\n            </Formik>\r\n\r\n          </div>\r\n          <br/>\r\n          <h6>New user? Join our gamified crime alert community today.</h6>\r\n            <button className=\"mdc-button mdc-button--raised general\">\r\n            <a data-toggle=\"tab\" href=\"#register\">Register</a>\r\n            </button>\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React from \"react\";\r\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { register } from \"../api/api\";\r\nimport Profile from './Profile';\r\nimport Swal from \"sweetalert2\";\r\nimport Toast from './Toast';\r\n\r\nexport default function Register({user}) {\r\n    \r\n    if (user != null) {\r\n      return (\r\n        <Profile \r\n        name={user.name}\r\n        rank={user.rank}\r\n        rep={user.rep}\r\n        coins={user.coins}\r\n        email={user.email}\r\n        image_url={user.image_url}/>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <h3>Join us today!</h3>\r\n          <div className=\"formik\">\r\n            <Formik\r\n              initialValues={{ email: \"\", password: \"\", name: \"\", image_url: \"\" }}\r\n              validationSchema={Yup.object({\r\n                email: Yup.string().email(\"Invalid email address\").required(\"An email address is required.\"),\r\n                password: Yup.string().required(\"A password is required.\"),\r\n                name: Yup.string().required(\"Please enter your full name.\"),\r\n                image_url: Yup.string().required(\"A valid image URL is required for your display picture.\")\r\n              })}\r\n              onSubmit={(values, { setSubmitting }) => {\r\n                setTimeout(() => {\r\n                  register(values.email, values.password, values.name, values.image_url)\r\n                    .then((user) => {\r\n                      setSubmitting(false);\r\n                      Toast.fire({\r\n                        icon: 'success',\r\n                        title: 'Registered successfully. Please proceed to login.'\r\n                      })\r\n                      // Redirect using html for page refresh\r\n                      setTimeout(() => {\r\n                        window.location.replace(\"#login\");\r\n                        window.location.reload();\r\n                      }, 1500);\r\n                    })\r\n                    .catch((error) => {\r\n                      setSubmitting(false);\r\n                      Swal.fire({\r\n                        title: \"Invalid details. Please try again.\",\r\n                        text: error.message,\r\n                        icon: \"error\",\r\n                        timer: 2500\r\n                      })\r\n                    });\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting }) => (\r\n                <Form className=\"spaced-form\">\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Name\r\n                    </small>\r\n                    <Field\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      placeholder=\"Enter name\"\r\n                      className={`form-control ${\r\n                        touched.name && errors.name ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"name\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Email\r\n                    </small>\r\n                    <Field\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder=\"Enter email\"\r\n                      className={`form-control ${\r\n                        touched.email && errors.email ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"email\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Password\r\n                    </small>\r\n                    <Field\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      placeholder=\"Enter password\"\r\n                      className={`form-control ${\r\n                        touched.password && errors.password ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"password\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n\r\n                  \r\n\r\n                  <div className=\"form-group\">\r\n                    <small>\r\n                      Display Image URL\r\n                    </small>\r\n                    <Field\r\n                      type=\"text\"\r\n                      name=\"image_url\"\r\n                      placeholder=\"Enter an image URL for your display picture hosted online\"\r\n                      className={`form-control ${\r\n                        touched.image_url && errors.image_url ? \"is-invalid\" : \"\"\r\n                      }`}\r\n                    />\r\n                    <ErrorMessage\r\n                      component=\"div\"\r\n                      name=\"image_url\"\r\n                      className=\"invalid-feedback\"\r\n                    />\r\n                  </div>\r\n  \r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"mdc-button mdc-button--raised general\"\r\n                    disabled={isSubmitting}\r\n                  >\r\n                    {isSubmitting ? \r\n                      <div id=\"login-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n                      : \"Register\"}\r\n                  </button>\r\n\r\n                 \r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </div>\r\n          <br/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }","import React, {useState, useEffect} from 'react';\r\nimport { getShopItems, purchaseItem } from '../api/api'\r\nimport Toast from './Toast';\r\nimport Swal from 'sweetalert2';\r\n\r\nfunction ShopCard({image_url, uid, ucoins, description, title, coins, due_time, id}) {\r\n  function handlePurchase() {\r\n    if (ucoins < coins) {\r\n      Swal.fire({\r\n        title: \"Unable to purchase. You might have insufficient coins.\",\r\n        text: \"Error.\",\r\n        icon: \"error\",\r\n        timer: 2500\r\n      })\r\n    }\r\n    else {\r\n      purchaseItem(coins, uid)\r\n        .then((res) => {\r\n          Toast.fire({\r\n            icon: 'success',\r\n            title: 'Purchase successful. Further details will be emailed to your later.'\r\n          })\r\n          window.location.reload();\r\n        })\r\n        .catch((error) => {\r\n          Swal.fire({\r\n            title: \"Unable to purchase.\",\r\n            text: error.message,\r\n            icon: \"error\",\r\n            timer: 2500\r\n          })\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n  <div className=\"col-sm-3 shop-card\">\r\n    <img className=\"card-img-top shop-card-img\" src={image_url} alt={title}/>\r\n    <div className=\"card-body shop-card-body\">\r\n      <h5 className=\"card-title shop-card-title\">{title}</h5>\r\n      <p className=\"card-text shop-card-text\">{description}</p>\r\n      {\r\n        due_time !== null &&\r\n        <p className=\"card-extra\">Avail Until {due_time.toDate().toLocaleString().toString()}</p>\r\n      }\r\n      <button onClick={handlePurchase} className=\"btn btn-primary shop-btn\">{coins} Coins</button>\r\n    </div>\r\n  </div>\r\n  );\r\n}\r\n\r\nexport default function Shop({user}) {\r\n\r\n  const [shopItems, setShopItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Setting user state if user logged in.\r\n  useEffect(() => {\r\n    getShopItems()\r\n    .then(async (shopDocs) => {\r\n        setShopItems(shopDocs);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setShopItems([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <h3>Shop</h3>\r\n      {\r\n        user &&\r\n        <p className=\"card-extra\">Coins: {user.coins}</p>\r\n      }\r\n      <p>Use your hard-earned coins from crime fighting to avail coupons, discounts and protection gear. </p>\r\n\r\n      <div className=\"row\">\r\n      {\r\n        !loading &&\r\n\r\n        shopItems.map(({title, description, coins, image_url, due_time, id}) => \r\n        <ShopCard \r\n        id={id}\r\n        uid={user && user.uid}\r\n        ucoins={user && user.coins}\r\n        title={title}\r\n        description={description}\r\n        coins={coins}\r\n        image_url={image_url}\r\n        due_time={due_time}\r\n        />\r\n        )\r\n      }\r\n      </div>\r\n    </>\r\n  )\r\n}","import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport Home from './components/Home';\r\nimport AlertView from './components/AlertView';\r\nimport Map from './components/Map';\r\nimport AlertForm from './components/AlertForm';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Shop from './components/Shop';\r\nimport { getLoggedInUser, getUserDetails, getAllAlerts } from \"./api/api\";\r\n\r\n\r\nfunction App() {\r\n  const [authStatusLoaded, setAuthStatusLoaded] = useState(false); // used to wait if any user is logged in\r\n  const [user, setUser] = useState(null);\r\n  const [alertsList, setAlertList] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n\r\n  // Setting user state if user logged in.\r\n  useEffect(() => {\r\n    getLoggedInUser()\r\n      .then(async (user) => {\r\n        let details = await getUserDetails(user.uid);\r\n        setUser({ ...user, ...details });\r\n        setAuthStatusLoaded(true);\r\n      })\r\n      .catch(() => {\r\n        setUser(null);\r\n        setAuthStatusLoaded(true);\r\n      });\r\n    \r\n    getAllAlerts()\r\n    .then(async (alertDocs) => {\r\n        setAlertList(alertDocs);\r\n        setLoading(false);\r\n      })\r\n      .catch(() => {\r\n        setAlertList([]);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  // if authentication has not been loaded yet\r\n  if (!authStatusLoaded) {\r\n    return (\r\n      <div id=\"loading-spinner\" className=\"spinner-border\" role=\"status\"></div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <nav className=\"navbar navbar-expand-sm bg-dark navbar-dark fixed-top\">\r\n        <a className=\"navbar-brand title-text\" href=\"#home\">Crime Fighters</a>\r\n        <button className=\"navbar-toggler\" type=\"button\" data-target=\"#collapsibleNavbar\" data-toggle=\"collapse\">\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div className=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n          <ul className=\"nav nav-tabs navbar-nav\">\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link active\" data-toggle=\"tab\" href=\"#home\">Home</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" data-toggle=\"tab\" href=\"#login\">{user == null ? \"Login\" : \"Profile\"}</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\" data-toggle=\"tab\" href=\"#form\">Report a Crime</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#view\">View Crime Log</a>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#locate\">Locate</a>\r\n            </li>    \r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link\"data-toggle=\"tab\" href=\"#shop\">Shop</a>\r\n            </li>   \r\n          </ul>\r\n      </div>  \r\n    </nav>\r\n\r\n    <div className=\"tab-content container\" id=\"main\">\r\n\r\n      <div id=\"home\" className=\"tab-pane fade in active show\">\r\n        <Home user={user}/>\r\n      </div>\r\n\r\n      <div id=\"login\" className=\"tab-pane fade\">\r\n        <Login user={user}/>\r\n      </div>\r\n\r\n      <div id=\"register\" className=\"tab-pane fade\">\r\n        <Register user={user}/>\r\n      </div>\r\n\r\n      <div id=\"view\" className=\"tab-pane fade\">\r\n        <AlertView user={user} alertsList={alertsList} loading={loading}/>\r\n      </div>\r\n\r\n      <div id=\"locate\" className=\"tab-pane fade\">\r\n        <Map user={user} alertsList={alertsList} loading={loading}/>\r\n      </div>\r\n\r\n      <div id=\"form\" className=\"tab-pane fade\">\r\n        <AlertForm user={user}/>\r\n      </div>\r\n\r\n      <div id=\"shop\" className=\"tab-pane fade\">\r\n        <Shop user={user}/>\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\nserviceWorker.register();\r\n"],"sourceRoot":""}